---
export interface Props {
  className?: string;
  color: "primary" | "secondary";
  variant: "solid" | "outline" | "gradient";
}

const { className = "", color, variant } = Astro.props;

const getVariantStyle = (
  variant: "solid" | "outline" | "gradient",
  color: "primary" | "secondary"
) => {
  let classList = "";
  if (variant === "solid") {
    classList = `border-transparent shadow-aesthetic `;
    if (color === "primary") {
      classList += `bg-primary-500 hover:bg-primary-600 active:bg-primary-700 disabled:bg-primary-200 `;
      classList += `text-accent disabled:text-primary-700 `;
    } else if (color === "secondary") {
      classList += `bg-secondary-500 hover:bg-secondary-600 active:bg-secondary-700 disabled:bg-secondary-200 `;
      classList += `text-accent disabled:text-secondary-700 `;
    }
    return classList;
  }
  if (variant === "outline") {
    classList = `shadow-aesthetic `;
    if (color === "primary") {
      classList += `border-primary-700 bg-transparent hover:bg-primary-50 active:bg-primary-100 `;
      classList += `text-primary-700 `;
    } else if (color === "secondary") {
      classList += `border-secondary-700 bg-transparent hover:bg-secondary-50 active:bg-secondary-100 `;
      classList += `text-secondary-700 `;
    }
    return classList;
  }
  if (variant === "gradient") {
    classList = `border-transparent shadow-aesthetic `;
    if (color === "primary") {
      classList += `bg-gradient-to-br from-primary-400 to-primary-600 hover:from-primary-500 hover:to-primary-700 active:from-primary-600 active:to-primary-800 disabled:from-primary-100 disabled:to-primary-300 `;
      classList += `text-accent disabled:text-primary-700 `;
    } else if (color === "secondary") {
      classList += `bg-gradient-to-br from-secondary-400 to-secondary-600 hover:from-secondary-500 hover:to-secondary-700 active:from-secondary-600 active:to-secondary-800 disabled:from-secondary-100 disabled:to-secondary-300 `;
      classList += `text-secondary-700 `;
    }
    return classList;
  }
};

const base =
  "rounded-lg outline-none relative overflow-hidden px-6 py-3 border";
const animation = `duration-300 ease-linear`;
---

<button
  class={`
   ${base} 
    ${animation}
    ${getVariantStyle(variant, color)}
    ${className}
  `}
>
  <slot />
</button>
